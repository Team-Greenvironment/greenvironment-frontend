<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
<mat-sidenav-container class="sidenav-container" class="mat-typography">
  <mat-sidenav #drawer class="sidenav" 
      fxShow="true" fxHide.gt-sm="true"
      fixedInViewport="false"
      autoFocus="false"
     >
    <mat-toolbar>Menu</mat-toolbar>
    <mat-nav-list>
      <a mat-list-item routerLink="" (click)="drawer.close()">Home</a>
      <a mat-list-item *ngIf="loggedIn" routerLink={{profileUrl}} (click)="drawer.close()">Profile</a>
      <a mat-list-item routerLink="/about" (click)="drawer.close()">About</a>
      <a mat-list-item routerLink="/imprint" (click)="drawer.close()">Imprint</a>
      <mat-divider></mat-divider>
      <div id="link-box">
        <a mat-stroked-button *ngIf="!loggedIn" class="link-button" routerLink="/register" (click)="drawer.close()">Register</a>
        <a mat-stroked-button *ngIf="!loggedIn" class="link-button" routerLink="/login" (click)="drawer.toggle()">Login</a>
        <a mat-stroked-button *ngIf="loggedIn" class="link-button" (click)="logout()" (click)="drawer.toggle()">log out</a>
      </div>
    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content>
    <mat-toolbar color="primary" class="mat-elevation-z4">
      <button
        type="button"
        aria-label="Toggle sidenav"
        mat-icon-button
        (click)="drawer.toggle()"
        fxShow="true" fxHide.gt-sm="true">
        <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
      </button>
      <span>Greenvironment</span>
        <!--The following menu items will be hidden on both SM and XS screen sizes -->
      <nav mat-tab-nav-bar backgroundColor="primary" fxShow="true" fxHide.lt-md="true">
        <div [hidden]="!loggedIn">
        <a mat-tab-link class="link"
              *ngFor="let link of navLinksLoggedIn"
              [routerLink]="link.path"
              (click)="activeLink = link"
              routerLinkActive #rla="routerLinkActive"
              [routerLinkActiveOptions]="{exact:true}"
              [active]="activeLink == link">
              {{link.label}}
          </a>
          </div>
          <div [hidden]="loggedIn">
          <a mat-tab-link class="link"
          *ngFor="let link of navLinks"
          [routerLink]="link.path"
          (click)="activeLink = link"
          routerLinkActive #rla="routerLinkActive"
          [routerLinkActiveOptions]="{exact:true}"
          [active]="rla.isActive">
          {{link.label}}
          </a>
        </div>
      </nav>
      <div id="menu-button-box">
      <button mat-icon-button [matMenuTriggerFor]="menu" id="menu-button">
        <mat-icon>more_vert</mat-icon>
      </button>
      </div>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="$event.stopPropagation();">
          <mat-slide-toggle
            color="primary"
            class="theme-button"
            (change)="toggleTheme()"><!--stays white when dragged-->
            dark mode
          </mat-slide-toggle>
        </button>
        <div  [hidden]="!loggedIn">
          <button mat-menu-item (click)="logout()" >
            <mat-icon>exit_to_app</mat-icon>
            <span>log out</span>
          </button> 
        </div>
      </mat-menu>
    </mat-toolbar>
    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>
